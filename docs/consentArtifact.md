# Consent artefact

In our framework, consent is always electronically sought from the user and is captured using a document called the _Consent Artefact_. The notion of a consent artefact is defined in a [technical standard](http://dla.gov.in/sites/default/files/pdf/MeitY-Consent-Tech-Framework%20v1.1.pdf) released by the [Ministry of Electronics and Information Technology (MEITY)](https://meity.gov.in/).

In DEPA, we use a JSON version of the consent artefact schema of that standard.

Within DEPA, Network agrees on a common standard of Consent Artifact which takes care of the use cases in that domain. For example a Gateway by a financial regulator would come up with a Consent artifact version which is generic enough to take care of all the use cases in the financial domain. Similarly a health regulator can come up with its own version of Consent Artifact.

![consentArtifactTemplate](/images/consentArtifactTemplate.png?raw=true )

A consent artifact will have two components to it. One is the **Headers**which will provide the information on how the body of the consent artifact should be parsed and second is the **Body**which contains the Consent Artifact details.

**_Headers_**
_All header fields defined here are mandatory. Apart from these custom headers can be added._

**_id_**
_A unique id of the consent artifact. The uniqueness should be maintained by the CM system._

**_schema-name_**
_The schema name of the consent artifact. This is to identify the schema provided by the network. For a collision free naming we suggest to have the schema name of the format &lt;gateway-prefix>.&lt;schema-name>_

**_schema-version_**
_The schema version identifier of the consent artifact._

**_content-type_**
_The content-type of the body. This can be either JSON / XML._

**_date-time_**

_The time when the consent artifact was generated._

**_expiry-time_**
_The expiry time of the consent artifact. I:e after this it should be considered invalid._

**Body**

Artifact Body can be defined in a JSON document or a XML format. The body should cater to the following -

1. **Data Principal** - mentions Data principal identifier who gave the consent. This section should not contain any PII information of the Data Principal. This will typically be the CM id issued by the Consent Manager to the Data Principal.

2. **Data Request Details** - This section tells the DP that this is what the consent has been given for. This section will clearly set the boundaries for data sharing.

3. **Accounts** - The Data Principal would choose the accounts from which he intends to share the requested data. This information needs to be provided for each of the data requests which the DC makes. Users may choose to provide the information from multiple accounts, in that case it's the responsibility of the DC to do the aggregation on the provided data sets if required. This section would contain the account ids provided by the DP at the time of linking and the LinkingToken as the proof of linking.

**_signature_**
 _The signature of the consent artifact in the JWS format._

Whenever a user gives consent to a consent manager, allowing sharing of data from an DP to an DC, two types of consent artefacts are generated:

1. **_An DC-facing artefact_**: This artefact is an authorization to the DC to be able to fetch information from an DP in the future. This will not have any “**accounts**” element or any information which can identify the DP.

2. **_An DP-facing artefact:_** This artefact is essentially a notification to an DP that communicates that “some '' DC is authorized to fetch information from it in the future. It has the same structure and additionally the “**accounts**” attribute for the DP to identify that data has to be shared from which accounts.

Each consent transaction generates one DP-facing artefact and one DC-facing artefact for every pair of DP and DC across which information sharing is consented to.

 A special scenario to consider - what if the DC and DP are on different networks and CM is acting as a bridge between these networks and enabling this transaction ? In this case the Consent Artifact generated by the CM can be of a different format for DC and DP. The format of these Consent Artifacts is governed by the Gateway to which the DC or DP is associated with. Since the CM is on both the Gateways it does the job of creating Gateway compliant Consent Artifact.
